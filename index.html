<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>lazy load</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<style>
		* {
			margin: 0;
			padding: 0;
		}
		.clearfix {
			*zoom: 1;
		}
		.clearfix:after {
			content: '';
			display: block;
			height: 0;
			line-height: 0;
			visibility: hidden;
			clear: both;
		}
		li {
			list-style-type: none;
			float: left;
			width: 10rem;
			height: 12rem;
			border: 1px solid #ccc;
			box-sizing: border-box;
		}
		img {
			width: 100%;
		}
	</style>
</head>
<body>
	<ul class="clearfix">
		<li data-origin="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://cover.read.duokan.com/mfsv2/download/fdsc3/p01N203pHTU7/Wr5314kcLAtVCi.jpg!t">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://cover.read.duokan.com/mfsv2/download/fdsc3/p01a3SXHo2hZ/XYAC5TLk4uYWXn.jpg!t">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://cover.read.duokan.com/mfsv2/download/fdsc3/p015trgKM7vw/H0iyDPPneOVrA4.jpg!t">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://imgsrc.baidu.com/baike/pic/item/2f9cbdcc5e0bcf5c00e9283b.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://cover.read.duokan.com/mfsv2/download/fdsc3/p015trgKM7vw/H0iyDPPneOVrA4.jpg!t">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://imgsrc.baidu.com/baike/pic/item/2f9cbdcc5e0bcf5c00e9283b.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://cover.read.duokan.com/mfsv2/download/fdsc3/p015trgKM7vw/H0iyDPPneOVrA4.jpg!t">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://imgsrc.baidu.com/baike/pic/item/2f9cbdcc5e0bcf5c00e9283b.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://cover.read.duokan.com/mfsv2/download/fdsc3/p015trgKM7vw/H0iyDPPneOVrA4.jpg!t">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://imgsrc.baidu.com/baike/pic/item/2f9cbdcc5e0bcf5c00e9283b.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://cover.read.duokan.com/mfsv2/download/fdsc3/p015trgKM7vw/H0iyDPPneOVrA4.jpg!t">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://imgsrc.baidu.com/baike/pic/item/2f9cbdcc5e0bcf5c00e9283b.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
		<li data-origin="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg">
			<img src="./img/loading.gif" alt="">
		</li>
	</ul>

	<script>

		var ul = document.getElementsByTagName('ul')[0];
		var li = document.getElementsByTagName('li');

		function changeSrc(obj) {
			var src = '';
			if (obj.dataset.origin) {
				obj.children[0].src = obj.dataset.origin;
			} else {
				obj.children[0].src = obj.getAttribute('data-origin');
			}
		}
		function getTop(obj) {
			// 元素到文档顶部距离
			var height = 0;
			while(obj) {
				height += obj.offsetTop;
				obj = obj.offsetParent;
			}
			return height;
		}
		window.onscroll = function() {
			// 获取可视区域距离高度
			var visibleBlockHeight = document.documentElement.clientHeight + (document.body.scrollTop || document.documentElement.scrollTop);
			for (var i = 0; i < li.length; i++) {
				if (getTop(li[i]) < visibleBlockHeight) {
					setTimeout("changeSrc(li[" + i + "])", 1000);
				}
			}

		}
		window.onload = function() {
			window.onscroll();

		}
	</script>
</body>
</html>